var MapCoordSrvc={PI:3.141592653589793,x_pi:52.35987755982988,delta:function(t,n){var i=6378245,a=.006693421622965943,s=this.transformLat(n-105,t-35),h=this.transformLng(n-105,t-35),r=t/180*this.PI,e=Math.sin(r);e=1-a*e*e;var o=Math.sqrt(e);return s=180*s/(i*(1-a)/(e*o)*this.PI),h=180*h/(i/o*Math.cos(r)*this.PI),{lat:s,lng:h}},wgs2gcj:function(t,n){var i=this.delta(t,n);return{lat:t+i.lat,lng:n+i.lng}},gcj2wgs:function(t,n){var i=this.delta(t,n);return{lat:t-i.lat,lng:n-i.lng}},gcj2wgs_exact:function(t,n){for(var i,a,s=.01,h=.01,r=t-s,e=n-h,o=t+s,g=n+h,M=0;;){i=(r+o)/2,a=(e+g)/2;var c=this.gcj_encrypt(i,a);if(s=c.lat-t,h=c.lng-n,Math.abs(s)<1e-9&&Math.abs(h)<1e-9)break;if(s>0?o=i:r=i,h>0?g=a:e=a,++M>1e4)break}return{lat:i,lng:a}},gcj2bd:function(t,n){var i=n,a=t,s=Math.sqrt(i*i+a*a)+2e-5*Math.sin(a*this.x_pi),h=Math.atan2(a,i)+3e-6*Math.cos(i*this.x_pi);return bdLng=s*Math.cos(h)+.0065,bdLat=s*Math.sin(h)+.006,{lat:bdLat,lng:bdLng}},bd2gcj:function(t,n){var i=n-.0065,a=t-.006,s=Math.sqrt(i*i+a*a)-2e-5*Math.sin(a*this.x_pi),h=Math.atan2(a,i)-3e-6*Math.cos(i*this.x_pi),r=s*Math.cos(h);return{lat:s*Math.sin(h),lng:r}},bd2wgs:function(t,n){if(this.insideChina(t,n)){var i=this.bd2gcj(t,n);return this.gcj2wgs(i.lat,i.lng)}return{lat:t,lng:n}},wgs2bd:function(t,n){if(this.insideChina(t,n)){var i=this.wgs2gcj(t,n);return this.gcj2bd(i.lat,i.lng)}return{lat:t,lng:n}},distance:function(t,n,i,a){var s=Math.cos(t*this.PI/180)*Math.cos(i*this.PI/180)*Math.cos((n-a)*this.PI/180),h=Math.sin(t*this.PI/180)*Math.sin(i*this.PI/180),r=s+h;return r>1&&(r=1),r<-1&&(r=-1),6371e3*Math.acos(r)},insideChina:function(t,n){var i=[[97.03125,43.389082],[87.890625,49.837982],[78.398438,45.336702],[78.574219,43.068888],[72.421875,39.027719],[77.783203,34.741612],[77.519531,31.952162],[80.507813,29.53523],[81.958008,30.031055],[86.000977,27.916767],[88.769531,27.25463],[90.395508,27.877928],[91.845703,27.683528],[96.020508,28.998532],[98.701172,26.588527],[97.470703,24.246965],[98.920898,22.105999],[100.986328,21.0845],[105.292969,22.958393],[107.797852,21.166484],[107.578125,18.39623],[111.005859,13.197165],[114.213867,7.754537],[117.993164,9.925566],[119.575195,19.766704],[124.628906,23.362429],[124.145508,39.53794],[126.826172,41.178654],[130.869141,42.488302],[135.131836,48.04871],[130.297852,49.124219],[124.936523,53.800651],[120.498047,53.46189],[116.455078,50.148746],[114.125977,46.437857],[108.588867,43.261206]];return this.insidePolygon([n,t],i)},insideSAR:function(t,n){var i=!1,a=[[114.008904,22.51002],[114.054909,22.501773],[114.086838,22.531902],[114.120483,22.532537],[114.166832,22.559489],[114.214897,22.555367],[114.23069,22.540464],[114.248543,22.552513],[114.353085,22.566449],[114.482346,22.423089],[114.45179,22.142479],[113.947449,22.128581],[113.827972,22.179139],[113.788147,22.279566],[113.888397,22.41928]];if(!(i=this.insidePolygon([n,t],a))){var s=[[113.531985,22.21351],[113.541427,22.213113],[113.544302,22.217086],[113.550568,22.216689],[113.581553,22.559489],[113.609962,22.131284],[113.568764,22.098046],[113.547735,22.111406],[113.548508,22.144164],[113.540998,22.153662],[113.526621,22.18359],[113.533831,22.204809]];i=this.insidePolygon([n,t],s)}return i},insideTaiwan:function(t,n){var i=[[121.069336,25.710837],[118.795166,23.63446],[120.289307,21.074249],[121.794434,21.820708],[122.607422,25.413509]];return this.insidePolygon([n,t],i)},insidePolygon:function(t,n){for(var i=t[0],a=t[1],s=!1,h=0,r=n.length-1;h<n.length;r=h++){var e=n[h][0],o=n[h][1],g=n[r][0],M=n[r][1];o>a!=M>a&&i<(g-e)*(a-o)/(M-o)+e&&(s=!s)}return s},transformLat:function(t,n){var i=2*t-100+3*n+.2*n*n+.1*t*n+.2*Math.sqrt(Math.abs(t));return i+=2*(20*Math.sin(6*t*this.PI)+20*Math.sin(2*t*this.PI))/3,i+=2*(20*Math.sin(n*this.PI)+40*Math.sin(n/3*this.PI))/3,i+=2*(160*Math.sin(n/12*this.PI)+320*Math.sin(n*this.PI/30))/3},transformLng:function(t,n){var i=300+t+2*n+.1*t*t+.1*t*n+.1*Math.sqrt(Math.abs(t));return i+=2*(20*Math.sin(6*t*this.PI)+20*Math.sin(2*t*this.PI))/3,i+=2*(20*Math.sin(t*this.PI)+40*Math.sin(t/3*this.PI))/3,i+=2*(150*Math.sin(t/12*this.PI)+300*Math.sin(t/30*this.PI))/3}};